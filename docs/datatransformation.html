<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="@ Rifqy Rosyidah Ilmi @ Prof Dr Suhartono M.Kom @ Magister Informatika @ UIN Maulana Malik Ibrahim @ UIN Malang" />


<title>Data Transformation</title>

<script src="site_libs/header-attrs-2.6/header-attrs.js"></script>
<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>





<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 51px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h2 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h3 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h4 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h5 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h6 {
  padding-top: 56px;
  margin-top: -56px;
}
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #ffffff;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->




</head>

<body>


<div class="container-fluid main-container">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">R for Data Science</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="datavisualisation.html">Data Visualisation</a>
</li>
<li>
  <a href="datatransformation.html">Data Transformation</a>
</li>
<li>
  <a href="relationaldata.html">Relational Data</a>
</li>
<li>
  <a href="alin.html">Aljabar Linear</a>
</li>
<li>
  <a href="about.html">About</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Data Transformation</h1>
<h4 class="author">@ Rifqy Rosyidah Ilmi @ Prof Dr Suhartono M.Kom @ Magister Informatika @ UIN Maulana Malik Ibrahim @ UIN Malang</h4>
<h4 class="date">2/15/2021</h4>

</div>


<p>Transformasi Data menggunakan paket dplyr, bagian dari tidyverse. Ilustrasi data dari paket nycflights13 dan menggunakan ggplot2 untuk membantu memahami data. Penjelasan ini diambil dari buku R for Data Science pada laman <a href="https://r4ds.had.co.nz/transform.html" class="uri">https://r4ds.had.co.nz/transform.html</a></p>
<pre class="r"><code>library(nycflights13)
library(tidyverse)</code></pre>
<pre><code>## -- Attaching packages ------------------------------------------- tidyverse 1.3.0 --</code></pre>
<pre><code>## v ggplot2 3.3.3     v purrr   0.3.4
## v tibble  3.0.6     v dplyr   1.0.4
## v tidyr   1.1.2     v stringr 1.4.0
## v readr   1.4.0     v forcats 0.5.1</code></pre>
<pre><code>## -- Conflicts ---------------------------------------------- tidyverse_conflicts() --
## x dplyr::filter() masks stats::filter()
## x dplyr::lag()    masks stats::lag()</code></pre>
<p>nycflights13 :: flight merupakan data berisi 336.776 penerbangan yang berangkat dari Kota New York pada tahun 2013. Data tersebut berasal dari Biro Statistik Transportasi AS, dan didokumentasikan dalam ?flights</p>
<pre class="r"><code>flights</code></pre>
<pre><code>## # A tibble: 336,776 x 19
##     year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time
##    &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;
##  1  2013     1     1      517            515         2      830            819
##  2  2013     1     1      533            529         4      850            830
##  3  2013     1     1      542            540         2      923            850
##  4  2013     1     1      544            545        -1     1004           1022
##  5  2013     1     1      554            600        -6      812            837
##  6  2013     1     1      554            558        -4      740            728
##  7  2013     1     1      555            600        -5      913            854
##  8  2013     1     1      557            600        -3      709            723
##  9  2013     1     1      557            600        -3      838            846
## 10  2013     1     1      558            600        -2      753            745
## # ... with 336,766 more rows, and 11 more variables: arr_delay &lt;dbl&gt;,
## #   carrier &lt;chr&gt;, flight &lt;int&gt;, tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;,
## #   air_time &lt;dbl&gt;, distance &lt;dbl&gt;, hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;</code></pre>
<pre class="r"><code>#&gt; # A tibble: 336,776 x 19
#&gt;    year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time
#&gt;   &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;
#&gt; 1  2013     1     1      517            515         2      830            819
#&gt; 2  2013     1     1      533            529         4      850            830
#&gt; 3  2013     1     1      542            540         2      923            850
#&gt; 4  2013     1     1      544            545        -1     1004           1022
#&gt; 5  2013     1     1      554            600        -6      812            837
#&gt; 6  2013     1     1      554            558        -4      740            728
#&gt; # … with 336,770 more rows, and 11 more variables: arr_delay &lt;dbl&gt;,
#&gt; #   carrier &lt;chr&gt;, flight &lt;int&gt;, tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;,
#&gt; #   air_time &lt;dbl&gt;, distance &lt;dbl&gt;, hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;</code></pre>
<p>filter () digunakan untuk membuat subset pengamatan berdasarkan nilainya. Misalnya, dipilih semua penerbangan pada tanggal 1 Januari dengan:</p>
<pre class="r"><code>filter(flights, month == 1, day == 1)</code></pre>
<pre><code>## # A tibble: 842 x 19
##     year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time
##    &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;
##  1  2013     1     1      517            515         2      830            819
##  2  2013     1     1      533            529         4      850            830
##  3  2013     1     1      542            540         2      923            850
##  4  2013     1     1      544            545        -1     1004           1022
##  5  2013     1     1      554            600        -6      812            837
##  6  2013     1     1      554            558        -4      740            728
##  7  2013     1     1      555            600        -5      913            854
##  8  2013     1     1      557            600        -3      709            723
##  9  2013     1     1      557            600        -3      838            846
## 10  2013     1     1      558            600        -2      753            745
## # ... with 832 more rows, and 11 more variables: arr_delay &lt;dbl&gt;, carrier &lt;chr&gt;,
## #   flight &lt;int&gt;, tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;,
## #   distance &lt;dbl&gt;, hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;</code></pre>
<pre class="r"><code>#&gt; # A tibble: 842 x 19
#&gt;    year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time
#&gt;   &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;
#&gt; 1  2013     1     1      517            515         2      830            819
#&gt; 2  2013     1     1      533            529         4      850            830
#&gt; 3  2013     1     1      542            540         2      923            850
#&gt; 4  2013     1     1      544            545        -1     1004           1022
#&gt; 5  2013     1     1      554            600        -6      812            837
#&gt; 6  2013     1     1      554            558        -4      740            728
#&gt; # … with 836 more rows, and 11 more variables: arr_delay &lt;dbl&gt;, carrier &lt;chr&gt;,
#&gt; #   flight &lt;int&gt;, tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;,
#&gt; #   distance &lt;dbl&gt;, hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;</code></pre>
<p>Jika ingin menyimpan hasil hasil filter maka dapat menggunakan oeprator &lt;-</p>
<pre class="r"><code>jan1 &lt;- filter(flights, month == 1, day == 1)</code></pre>
<p>R dapat menampilkan hasil filter maupun menyimpan dalam varibel, untuk menggunakan keduanya maka :</p>
<pre class="r"><code>(dec25 &lt;- filter(flights, month == 12, day == 25))</code></pre>
<pre><code>## # A tibble: 719 x 19
##     year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time
##    &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;
##  1  2013    12    25      456            500        -4      649            651
##  2  2013    12    25      524            515         9      805            814
##  3  2013    12    25      542            540         2      832            850
##  4  2013    12    25      546            550        -4     1022           1027
##  5  2013    12    25      556            600        -4      730            745
##  6  2013    12    25      557            600        -3      743            752
##  7  2013    12    25      557            600        -3      818            831
##  8  2013    12    25      559            600        -1      855            856
##  9  2013    12    25      559            600        -1      849            855
## 10  2013    12    25      600            600         0      850            846
## # ... with 709 more rows, and 11 more variables: arr_delay &lt;dbl&gt;, carrier &lt;chr&gt;,
## #   flight &lt;int&gt;, tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;,
## #   distance &lt;dbl&gt;, hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;</code></pre>
<pre class="r"><code>#&gt; # A tibble: 719 x 19
#&gt;    year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time
#&gt;   &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;
#&gt; 1  2013    12    25      456            500        -4      649            651
#&gt; 2  2013    12    25      524            515         9      805            814
#&gt; 3  2013    12    25      542            540         2      832            850
#&gt; 4  2013    12    25      546            550        -4     1022           1027
#&gt; 5  2013    12    25      556            600        -4      730            745
#&gt; 6  2013    12    25      557            600        -3      743            752
#&gt; # … with 713 more rows, and 11 more variables: arr_delay &lt;dbl&gt;, carrier &lt;chr&gt;,
#&gt; #   flight &lt;int&gt;, tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;,
#&gt; #   distance &lt;dbl&gt;, hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;</code></pre>
<p>Operator logika menggunakan == akan menghasilkan data (sama dengan)</p>
<pre class="r"><code>filter(flights, month == 11 | month == 12)</code></pre>
<pre><code>## # A tibble: 55,403 x 19
##     year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time
##    &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;
##  1  2013    11     1        5           2359         6      352            345
##  2  2013    11     1       35           2250       105      123           2356
##  3  2013    11     1      455            500        -5      641            651
##  4  2013    11     1      539            545        -6      856            827
##  5  2013    11     1      542            545        -3      831            855
##  6  2013    11     1      549            600       -11      912            923
##  7  2013    11     1      550            600       -10      705            659
##  8  2013    11     1      554            600        -6      659            701
##  9  2013    11     1      554            600        -6      826            827
## 10  2013    11     1      554            600        -6      749            751
## # ... with 55,393 more rows, and 11 more variables: arr_delay &lt;dbl&gt;, carrier &lt;chr&gt;,
## #   flight &lt;int&gt;, tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;,
## #   distance &lt;dbl&gt;, hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;</code></pre>
<p>Untuk menghasilkan data yang sama maka dapat digunakan perintah x %in% y, dimana setiap x adalah salah satu nilai di y :</p>
<pre class="r"><code>nov_dec &lt;- filter(flights, month %in% c(11, 12))</code></pre>
<p>dapat pula digunakan hukum De Morgan:! (X &amp; y) sama dengan! X | ! y, dan! (x | y) sama dengan! x &amp;! y. Misalnya, jika ingin menemukan penerbangan yang tidak ditunda (pada kedatangan atau keberangkatan) lebih dari dua jam, maka dapat menggunakan salah satu dari dua filter berikut :</p>
<pre class="r"><code>filter(flights, !(arr_delay &gt; 120 | dep_delay &gt; 120))</code></pre>
<pre><code>## # A tibble: 316,050 x 19
##     year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time
##    &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;
##  1  2013     1     1      517            515         2      830            819
##  2  2013     1     1      533            529         4      850            830
##  3  2013     1     1      542            540         2      923            850
##  4  2013     1     1      544            545        -1     1004           1022
##  5  2013     1     1      554            600        -6      812            837
##  6  2013     1     1      554            558        -4      740            728
##  7  2013     1     1      555            600        -5      913            854
##  8  2013     1     1      557            600        -3      709            723
##  9  2013     1     1      557            600        -3      838            846
## 10  2013     1     1      558            600        -2      753            745
## # ... with 316,040 more rows, and 11 more variables: arr_delay &lt;dbl&gt;,
## #   carrier &lt;chr&gt;, flight &lt;int&gt;, tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;,
## #   air_time &lt;dbl&gt;, distance &lt;dbl&gt;, hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;</code></pre>
<pre class="r"><code>filter(flights, arr_delay &lt;= 120, dep_delay &lt;= 120)</code></pre>
<pre><code>## # A tibble: 316,050 x 19
##     year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time
##    &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;
##  1  2013     1     1      517            515         2      830            819
##  2  2013     1     1      533            529         4      850            830
##  3  2013     1     1      542            540         2      923            850
##  4  2013     1     1      544            545        -1     1004           1022
##  5  2013     1     1      554            600        -6      812            837
##  6  2013     1     1      554            558        -4      740            728
##  7  2013     1     1      555            600        -5      913            854
##  8  2013     1     1      557            600        -3      709            723
##  9  2013     1     1      557            600        -3      838            846
## 10  2013     1     1      558            600        -2      753            745
## # ... with 316,040 more rows, and 11 more variables: arr_delay &lt;dbl&gt;,
## #   carrier &lt;chr&gt;, flight &lt;int&gt;, tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;,
## #   air_time &lt;dbl&gt;, distance &lt;dbl&gt;, hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;</code></pre>
<p>arrange () digunakan untuk mengurutkan tampilan data :</p>
<pre class="r"><code>arrange(flights, year, month, day)</code></pre>
<pre><code>## # A tibble: 336,776 x 19
##     year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time
##    &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;
##  1  2013     1     1      517            515         2      830            819
##  2  2013     1     1      533            529         4      850            830
##  3  2013     1     1      542            540         2      923            850
##  4  2013     1     1      544            545        -1     1004           1022
##  5  2013     1     1      554            600        -6      812            837
##  6  2013     1     1      554            558        -4      740            728
##  7  2013     1     1      555            600        -5      913            854
##  8  2013     1     1      557            600        -3      709            723
##  9  2013     1     1      557            600        -3      838            846
## 10  2013     1     1      558            600        -2      753            745
## # ... with 336,766 more rows, and 11 more variables: arr_delay &lt;dbl&gt;,
## #   carrier &lt;chr&gt;, flight &lt;int&gt;, tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;,
## #   air_time &lt;dbl&gt;, distance &lt;dbl&gt;, hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;</code></pre>
<pre class="r"><code>#&gt; # A tibble: 336,776 x 19
#&gt;    year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time
#&gt;   &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;
#&gt; 1  2013     1     1      517            515         2      830            819
#&gt; 2  2013     1     1      533            529         4      850            830
#&gt; 3  2013     1     1      542            540         2      923            850
#&gt; 4  2013     1     1      544            545        -1     1004           1022
#&gt; 5  2013     1     1      554            600        -6      812            837
#&gt; 6  2013     1     1      554            558        -4      740            728
#&gt; # … with 336,770 more rows, and 11 more variables: arr_delay &lt;dbl&gt;,
#&gt; #   carrier &lt;chr&gt;, flight &lt;int&gt;, tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;,
#&gt; #   air_time &lt;dbl&gt;, distance &lt;dbl&gt;, hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;</code></pre>
<p>desc()digunakan untuk urutan menurun</p>
<pre class="r"><code>arrange(flights, desc(dep_delay))</code></pre>
<pre><code>## # A tibble: 336,776 x 19
##     year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time
##    &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;
##  1  2013     1     9      641            900      1301     1242           1530
##  2  2013     6    15     1432           1935      1137     1607           2120
##  3  2013     1    10     1121           1635      1126     1239           1810
##  4  2013     9    20     1139           1845      1014     1457           2210
##  5  2013     7    22      845           1600      1005     1044           1815
##  6  2013     4    10     1100           1900       960     1342           2211
##  7  2013     3    17     2321            810       911      135           1020
##  8  2013     6    27      959           1900       899     1236           2226
##  9  2013     7    22     2257            759       898      121           1026
## 10  2013    12     5      756           1700       896     1058           2020
## # ... with 336,766 more rows, and 11 more variables: arr_delay &lt;dbl&gt;,
## #   carrier &lt;chr&gt;, flight &lt;int&gt;, tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;,
## #   air_time &lt;dbl&gt;, distance &lt;dbl&gt;, hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;</code></pre>
<pre class="r"><code>#&gt; # A tibble: 336,776 x 19
#&gt;    year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time
#&gt;   &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;
#&gt; 1  2013     1     9      641            900      1301     1242           1530
#&gt; 2  2013     6    15     1432           1935      1137     1607           2120
#&gt; 3  2013     1    10     1121           1635      1126     1239           1810
#&gt; 4  2013     9    20     1139           1845      1014     1457           2210
#&gt; 5  2013     7    22      845           1600      1005     1044           1815
#&gt; 6  2013     4    10     1100           1900       960     1342           2211
#&gt; # … with 336,770 more rows, and 11 more variables: arr_delay &lt;dbl&gt;,
#&gt; #   carrier &lt;chr&gt;, flight &lt;int&gt;, tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;,
#&gt; #   air_time &lt;dbl&gt;, distance &lt;dbl&gt;, hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;</code></pre>
<p>nilai yang tidak ditemukan (NA) ditampilkan pada urutan terakhir</p>
<pre class="r"><code>df &lt;- tibble(x = c(5, 2, NA))
arrange(df, x)</code></pre>
<pre><code>## # A tibble: 3 x 1
##       x
##   &lt;dbl&gt;
## 1     2
## 2     5
## 3    NA</code></pre>
<pre class="r"><code>#&gt; # A tibble: 3 x 1
#&gt;       x
#&gt;   &lt;dbl&gt;
#&gt; 1     2
#&gt; 2     5
#&gt; 3    NA
arrange(df, desc(x))</code></pre>
<pre><code>## # A tibble: 3 x 1
##       x
##   &lt;dbl&gt;
## 1     5
## 2     2
## 3    NA</code></pre>
<pre class="r"><code>#&gt; # A tibble: 3 x 1
#&gt;       x
#&gt;   &lt;dbl&gt;
#&gt; 1     5
#&gt; 2     2
#&gt; 3    NA</code></pre>
<p>select() digunakan untuk memilih data :</p>
<pre class="r"><code># Select columns by name
select(flights, year, month, day)</code></pre>
<pre><code>## # A tibble: 336,776 x 3
##     year month   day
##    &lt;int&gt; &lt;int&gt; &lt;int&gt;
##  1  2013     1     1
##  2  2013     1     1
##  3  2013     1     1
##  4  2013     1     1
##  5  2013     1     1
##  6  2013     1     1
##  7  2013     1     1
##  8  2013     1     1
##  9  2013     1     1
## 10  2013     1     1
## # ... with 336,766 more rows</code></pre>
<pre class="r"><code>#&gt; # A tibble: 336,776 x 3
#&gt;    year month   day
#&gt;   &lt;int&gt; &lt;int&gt; &lt;int&gt;
#&gt; 1  2013     1     1
#&gt; 2  2013     1     1
#&gt; 3  2013     1     1
#&gt; 4  2013     1     1
#&gt; 5  2013     1     1
#&gt; 6  2013     1     1
#&gt; # … with 336,770 more rows
# Select all columns between year and day (inclusive)
select(flights, year:day)</code></pre>
<pre><code>## # A tibble: 336,776 x 3
##     year month   day
##    &lt;int&gt; &lt;int&gt; &lt;int&gt;
##  1  2013     1     1
##  2  2013     1     1
##  3  2013     1     1
##  4  2013     1     1
##  5  2013     1     1
##  6  2013     1     1
##  7  2013     1     1
##  8  2013     1     1
##  9  2013     1     1
## 10  2013     1     1
## # ... with 336,766 more rows</code></pre>
<pre class="r"><code>#&gt; # A tibble: 336,776 x 3
#&gt;    year month   day
#&gt;   &lt;int&gt; &lt;int&gt; &lt;int&gt;
#&gt; 1  2013     1     1
#&gt; 2  2013     1     1
#&gt; 3  2013     1     1
#&gt; 4  2013     1     1
#&gt; 5  2013     1     1
#&gt; 6  2013     1     1
#&gt; # … with 336,770 more rows
# Select all columns except those from year to day (inclusive)
select(flights, -(year:day))</code></pre>
<pre><code>## # A tibble: 336,776 x 16
##    dep_time sched_dep_time dep_delay arr_time sched_arr_time arr_delay carrier
##       &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt; &lt;chr&gt;  
##  1      517            515         2      830            819        11 UA     
##  2      533            529         4      850            830        20 UA     
##  3      542            540         2      923            850        33 AA     
##  4      544            545        -1     1004           1022       -18 B6     
##  5      554            600        -6      812            837       -25 DL     
##  6      554            558        -4      740            728        12 UA     
##  7      555            600        -5      913            854        19 B6     
##  8      557            600        -3      709            723       -14 EV     
##  9      557            600        -3      838            846        -8 B6     
## 10      558            600        -2      753            745         8 AA     
## # ... with 336,766 more rows, and 9 more variables: flight &lt;int&gt;, tailnum &lt;chr&gt;,
## #   origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;, distance &lt;dbl&gt;, hour &lt;dbl&gt;,
## #   minute &lt;dbl&gt;, time_hour &lt;dttm&gt;</code></pre>
<pre class="r"><code>#&gt; # A tibble: 336,776 x 16
#&gt;   dep_time sched_dep_time dep_delay arr_time sched_arr_time arr_delay carrier
#&gt;      &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt; &lt;chr&gt;  
#&gt; 1      517            515         2      830            819        11 UA     
#&gt; 2      533            529         4      850            830        20 UA     
#&gt; 3      542            540         2      923            850        33 AA     
#&gt; 4      544            545        -1     1004           1022       -18 B6     
#&gt; 5      554            600        -6      812            837       -25 DL     
#&gt; 6      554            558        -4      740            728        12 UA     
#&gt; # … with 336,770 more rows, and 9 more variables: flight &lt;int&gt;, tailnum &lt;chr&gt;,
#&gt; #   origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;, distance &lt;dbl&gt;, hour &lt;dbl&gt;,
#&gt; #   minute &lt;dbl&gt;, time_hour &lt;dttm&gt;</code></pre>
<p>rename () yang merupakan varian dari select () dapat digunakan untuk menyimpan semua variabel yang tidak disebutkan secara eksplisit</p>
<pre class="r"><code>rename(flights, tail_num = tailnum)</code></pre>
<pre><code>## # A tibble: 336,776 x 19
##     year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time
##    &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;
##  1  2013     1     1      517            515         2      830            819
##  2  2013     1     1      533            529         4      850            830
##  3  2013     1     1      542            540         2      923            850
##  4  2013     1     1      544            545        -1     1004           1022
##  5  2013     1     1      554            600        -6      812            837
##  6  2013     1     1      554            558        -4      740            728
##  7  2013     1     1      555            600        -5      913            854
##  8  2013     1     1      557            600        -3      709            723
##  9  2013     1     1      557            600        -3      838            846
## 10  2013     1     1      558            600        -2      753            745
## # ... with 336,766 more rows, and 11 more variables: arr_delay &lt;dbl&gt;,
## #   carrier &lt;chr&gt;, flight &lt;int&gt;, tail_num &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;,
## #   air_time &lt;dbl&gt;, distance &lt;dbl&gt;, hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;</code></pre>
<pre class="r"><code>#&gt; # A tibble: 336,776 x 19
#&gt;    year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time
#&gt;   &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;
#&gt; 1  2013     1     1      517            515         2      830            819
#&gt; 2  2013     1     1      533            529         4      850            830
#&gt; 3  2013     1     1      542            540         2      923            850
#&gt; 4  2013     1     1      544            545        -1     1004           1022
#&gt; 5  2013     1     1      554            600        -6      812            837
#&gt; 6  2013     1     1      554            558        -4      740            728
#&gt; # … with 336,770 more rows, and 11 more variables: arr_delay &lt;dbl&gt;,
#&gt; #   carrier &lt;chr&gt;, flight &lt;int&gt;, tail_num &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;,
#&gt; #   air_time &lt;dbl&gt;, distance &lt;dbl&gt;, hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;</code></pre>
<p>Menggunakan select () bersama dengan helper everything ()dapat digunakan untuk memindahkan variabel ke awal bingkai data.</p>
<pre class="r"><code>select(flights, time_hour, air_time, everything())</code></pre>
<pre><code>## # A tibble: 336,776 x 19
##    time_hour           air_time  year month   day dep_time sched_dep_time dep_delay
##    &lt;dttm&gt;                 &lt;dbl&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;
##  1 2013-01-01 05:00:00      227  2013     1     1      517            515         2
##  2 2013-01-01 05:00:00      227  2013     1     1      533            529         4
##  3 2013-01-01 05:00:00      160  2013     1     1      542            540         2
##  4 2013-01-01 05:00:00      183  2013     1     1      544            545        -1
##  5 2013-01-01 06:00:00      116  2013     1     1      554            600        -6
##  6 2013-01-01 05:00:00      150  2013     1     1      554            558        -4
##  7 2013-01-01 06:00:00      158  2013     1     1      555            600        -5
##  8 2013-01-01 06:00:00       53  2013     1     1      557            600        -3
##  9 2013-01-01 06:00:00      140  2013     1     1      557            600        -3
## 10 2013-01-01 06:00:00      138  2013     1     1      558            600        -2
## # ... with 336,766 more rows, and 11 more variables: arr_time &lt;int&gt;,
## #   sched_arr_time &lt;int&gt;, arr_delay &lt;dbl&gt;, carrier &lt;chr&gt;, flight &lt;int&gt;,
## #   tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;, distance &lt;dbl&gt;, hour &lt;dbl&gt;,
## #   minute &lt;dbl&gt;</code></pre>
<pre class="r"><code>#&gt; # A tibble: 336,776 x 19
#&gt;   time_hour           air_time  year month   day dep_time sched_dep_time
#&gt;   &lt;dttm&gt;                 &lt;dbl&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;
#&gt; 1 2013-01-01 05:00:00      227  2013     1     1      517            515
#&gt; 2 2013-01-01 05:00:00      227  2013     1     1      533            529
#&gt; 3 2013-01-01 05:00:00      160  2013     1     1      542            540
#&gt; 4 2013-01-01 05:00:00      183  2013     1     1      544            545
#&gt; 5 2013-01-01 06:00:00      116  2013     1     1      554            600
#&gt; 6 2013-01-01 05:00:00      150  2013     1     1      554            558
#&gt; # … with 336,770 more rows, and 12 more variables: dep_delay &lt;dbl&gt;,
#&gt; #   arr_time &lt;int&gt;, sched_arr_time &lt;int&gt;, arr_delay &lt;dbl&gt;, carrier &lt;chr&gt;,
#&gt; #   flight &lt;int&gt;, tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;, distance &lt;dbl&gt;,
#&gt; #   hour &lt;dbl&gt;, minute &lt;dbl&gt;</code></pre>
<p>mutate () digunakan untuk menambahkan kolom baru yang merupakan fungsi dari kolom yang ada</p>
<pre class="r"><code>flights_sml &lt;- select(flights, 
  year:day, 
  ends_with(&quot;delay&quot;), 
  distance, 
  air_time
)
mutate(flights_sml,
  gain = dep_delay - arr_delay,
  speed = distance / air_time * 60
)</code></pre>
<pre><code>## # A tibble: 336,776 x 9
##     year month   day dep_delay arr_delay distance air_time  gain speed
##    &lt;int&gt; &lt;int&gt; &lt;int&gt;     &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
##  1  2013     1     1         2        11     1400      227    -9  370.
##  2  2013     1     1         4        20     1416      227   -16  374.
##  3  2013     1     1         2        33     1089      160   -31  408.
##  4  2013     1     1        -1       -18     1576      183    17  517.
##  5  2013     1     1        -6       -25      762      116    19  394.
##  6  2013     1     1        -4        12      719      150   -16  288.
##  7  2013     1     1        -5        19     1065      158   -24  404.
##  8  2013     1     1        -3       -14      229       53    11  259.
##  9  2013     1     1        -3        -8      944      140     5  405.
## 10  2013     1     1        -2         8      733      138   -10  319.
## # ... with 336,766 more rows</code></pre>
<pre class="r"><code>#&gt; # A tibble: 336,776 x 9
#&gt;    year month   day dep_delay arr_delay distance air_time  gain speed
#&gt;   &lt;int&gt; &lt;int&gt; &lt;int&gt;     &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
#&gt; 1  2013     1     1         2        11     1400      227    -9  370.
#&gt; 2  2013     1     1         4        20     1416      227   -16  374.
#&gt; 3  2013     1     1         2        33     1089      160   -31  408.
#&gt; 4  2013     1     1        -1       -18     1576      183    17  517.
#&gt; 5  2013     1     1        -6       -25      762      116    19  394.
#&gt; 6  2013     1     1        -4        12      719      150   -16  288.
#&gt; # … with 336,770 more rows</code></pre>
<p>mutate () merujuk pada kolom yang baru dibuat</p>
<pre class="r"><code>mutate(flights_sml,
  gain = dep_delay - arr_delay,
  hours = air_time / 60,
  gain_per_hour = gain / hours
)</code></pre>
<pre><code>## # A tibble: 336,776 x 10
##     year month   day dep_delay arr_delay distance air_time  gain hours gain_per_hour
##    &lt;int&gt; &lt;int&gt; &lt;int&gt;     &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;         &lt;dbl&gt;
##  1  2013     1     1         2        11     1400      227    -9 3.78          -2.38
##  2  2013     1     1         4        20     1416      227   -16 3.78          -4.23
##  3  2013     1     1         2        33     1089      160   -31 2.67         -11.6 
##  4  2013     1     1        -1       -18     1576      183    17 3.05           5.57
##  5  2013     1     1        -6       -25      762      116    19 1.93           9.83
##  6  2013     1     1        -4        12      719      150   -16 2.5           -6.4 
##  7  2013     1     1        -5        19     1065      158   -24 2.63          -9.11
##  8  2013     1     1        -3       -14      229       53    11 0.883         12.5 
##  9  2013     1     1        -3        -8      944      140     5 2.33           2.14
## 10  2013     1     1        -2         8      733      138   -10 2.3           -4.35
## # ... with 336,766 more rows</code></pre>
<pre class="r"><code>#&gt; # A tibble: 336,776 x 10
#&gt;    year month   day dep_delay arr_delay distance air_time  gain hours
#&gt;   &lt;int&gt; &lt;int&gt; &lt;int&gt;     &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
#&gt; 1  2013     1     1         2        11     1400      227    -9  3.78
#&gt; 2  2013     1     1         4        20     1416      227   -16  3.78
#&gt; 3  2013     1     1         2        33     1089      160   -31  2.67
#&gt; 4  2013     1     1        -1       -18     1576      183    17  3.05
#&gt; 5  2013     1     1        -6       -25      762      116    19  1.93
#&gt; 6  2013     1     1        -4        12      719      150   -16  2.5 
#&gt; # … with 336,770 more rows, and 1 more variable: gain_per_hour &lt;dbl&gt;</code></pre>
<p>transmute () digunakan untuk menyimpan pada variabel baru</p>
<pre class="r"><code>transmute(flights,
  gain = dep_delay - arr_delay,
  hours = air_time / 60,
  gain_per_hour = gain / hours
)</code></pre>
<pre><code>## # A tibble: 336,776 x 3
##     gain hours gain_per_hour
##    &lt;dbl&gt; &lt;dbl&gt;         &lt;dbl&gt;
##  1    -9 3.78          -2.38
##  2   -16 3.78          -4.23
##  3   -31 2.67         -11.6 
##  4    17 3.05           5.57
##  5    19 1.93           9.83
##  6   -16 2.5           -6.4 
##  7   -24 2.63          -9.11
##  8    11 0.883         12.5 
##  9     5 2.33           2.14
## 10   -10 2.3           -4.35
## # ... with 336,766 more rows</code></pre>
<pre class="r"><code>#&gt; # A tibble: 336,776 x 3
#&gt;    gain hours gain_per_hour
#&gt;   &lt;dbl&gt; &lt;dbl&gt;         &lt;dbl&gt;
#&gt; 1    -9  3.78         -2.38
#&gt; 2   -16  3.78         -4.23
#&gt; 3   -31  2.67        -11.6 
#&gt; 4    17  3.05          5.57
#&gt; 5    19  1.93          9.83
#&gt; 6   -16  2.5          -6.4 
#&gt; # … with 336,770 more rows</code></pre>
<p>Fungsi untuk membuat variabel baru yang bisa digunakan dengan mutate (). Aritmatika modular:% /% (pembagian bilangan bulat) dan %% (sisa), di mana x == y * (x% /% y) + (x %% y). Aritmatika modular adalah alat praktis karena memungkinkan memecah bilangan bulat menjadi beberapa bagian misalnya menghitung waktu (jam dan menit) pada tiap penerbangan :</p>
<pre class="r"><code>transmute(flights,
  dep_time,
  hour = dep_time %/% 100,
  minute = dep_time %% 100
)</code></pre>
<pre><code>## # A tibble: 336,776 x 3
##    dep_time  hour minute
##       &lt;int&gt; &lt;dbl&gt;  &lt;dbl&gt;
##  1      517     5     17
##  2      533     5     33
##  3      542     5     42
##  4      544     5     44
##  5      554     5     54
##  6      554     5     54
##  7      555     5     55
##  8      557     5     57
##  9      557     5     57
## 10      558     5     58
## # ... with 336,766 more rows</code></pre>
<pre class="r"><code>#&gt; # A tibble: 336,776 x 3
#&gt;   dep_time  hour minute
#&gt;      &lt;int&gt; &lt;dbl&gt;  &lt;dbl&gt;
#&gt; 1      517     5     17
#&gt; 2      533     5     33
#&gt; 3      542     5     42
#&gt; 4      544     5     44
#&gt; 5      554     5     54
#&gt; 6      554     5     54
#&gt; # … with 336,770 more rows</code></pre>
<p>Offsets: lead () dan lag () digunakan untuk merujuk ke nilai leading atau lagging. untuk menghitung perbedaan yang berjalan (misalnya x - lag (x)) atau menemukan saat nilai berubah (x! = Lag (x)).</p>
<pre class="r"><code>(x &lt;- 1:10)</code></pre>
<pre><code>##  [1]  1  2  3  4  5  6  7  8  9 10</code></pre>
<pre class="r"><code>#&gt;  [1]  1  2  3  4  5  6  7  8  9 10
lag(x)</code></pre>
<pre><code>##  [1] NA  1  2  3  4  5  6  7  8  9</code></pre>
<pre class="r"><code>#&gt;  [1] NA  1  2  3  4  5  6  7  8  9
lead(x)</code></pre>
<pre><code>##  [1]  2  3  4  5  6  7  8  9 10 NA</code></pre>
<pre class="r"><code>#&gt;  [1]  2  3  4  5  6  7  8  9 10 NA</code></pre>
<p>min_rank () digunakan untuk memberikan nilai terkecil dari rank kecil; gunakan desc (x) untuk memberikan nilai terbesar pangkat terkecil</p>
<pre class="r"><code>y &lt;- c(1, 2, 2, NA, 3, 4)
min_rank(y)</code></pre>
<pre><code>## [1]  1  2  2 NA  4  5</code></pre>
<pre class="r"><code>#&gt; [1]  1  2  2 NA  4  5
min_rank(desc(y))</code></pre>
<pre><code>## [1]  5  3  3 NA  2  1</code></pre>
<pre class="r"><code>#&gt; [1]  5  3  3 NA  2  1</code></pre>
<p>summerize() digunakan untuk menampilkan data dalam 1 baris</p>
<pre class="r"><code>summarise(flights, delay = mean(dep_delay, na.rm = TRUE))</code></pre>
<pre><code>## # A tibble: 1 x 1
##   delay
##   &lt;dbl&gt;
## 1  12.6</code></pre>
<pre class="r"><code>#&gt; # A tibble: 1 x 1
#&gt;   delay
#&gt;   &lt;dbl&gt;
#&gt; 1  12.6</code></pre>
<p>summarize() harus digunakan dengan group by(). Misal menampilkan data delay pada hari tertentu dengan perintah group by() :</p>
<pre class="r"><code>by_day &lt;- group_by(flights, year, month, day)
summarise(by_day, delay = mean(dep_delay, na.rm = TRUE))</code></pre>
<pre><code>## `summarise()` has grouped output by &#39;year&#39;, &#39;month&#39;. You can override using the `.groups` argument.</code></pre>
<pre><code>## # A tibble: 365 x 4
## # Groups:   year, month [12]
##     year month   day delay
##    &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;dbl&gt;
##  1  2013     1     1 11.5 
##  2  2013     1     2 13.9 
##  3  2013     1     3 11.0 
##  4  2013     1     4  8.95
##  5  2013     1     5  5.73
##  6  2013     1     6  7.15
##  7  2013     1     7  5.42
##  8  2013     1     8  2.55
##  9  2013     1     9  2.28
## 10  2013     1    10  2.84
## # ... with 355 more rows</code></pre>
<pre class="r"><code>#&gt; `summarise()` regrouping output by &#39;year&#39;, &#39;month&#39; (override with `.groups` argument)
#&gt; # A tibble: 365 x 4
#&gt; # Groups:   year, month [12]
#&gt;    year month   day delay
#&gt;   &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;dbl&gt;
#&gt; 1  2013     1     1 11.5 
#&gt; 2  2013     1     2 13.9 
#&gt; 3  2013     1     3 11.0 
#&gt; 4  2013     1     4  8.95
#&gt; 5  2013     1     5  5.73
#&gt; 6  2013     1     6  7.15
#&gt; # … with 359 more rows</code></pre>
<p>Menggabungkan beberapa operasi dengan “pipe”</p>
<p>Misal mencari hubungan antara jarak dan delay rata-rata untuk setiap lokasi : 1. Mengelompokkan data dengan fungsi group by() berdasarkan destinasi 2. Meringkas untuk menghitung jarak, delay rata-rata, dan jumlah penerbangan 3. Filter untuk menghilangkan titik-titik noise dan bandara Honolulu, yang jaraknya hampir dua kali lipat dari bandara terdekat berikutnya</p>
<pre class="r"><code>by_dest &lt;- group_by(flights, dest)
delay &lt;- summarise(by_dest,
  count = n(),
  dist = mean(distance, na.rm = TRUE),
  delay = mean(arr_delay, na.rm = TRUE)
)
#&gt; `summarise()` ungrouping output (override with `.groups` argument)
delay &lt;- filter(delay, count &gt; 20, dest != &quot;HNL&quot;)

# It looks like delays increase with distance up to ~750 miles 
# and then decrease. Maybe as flights get longer there&#39;s more 
# ability to make up delays in the air?
ggplot(data = delay, mapping = aes(x = dist, y = delay)) +
  geom_point(aes(size = count), alpha = 1/3) +
  geom_smooth(se = FALSE)</code></pre>
<pre><code>## `geom_smooth()` using method = &#39;loess&#39; and formula &#39;y ~ x&#39;</code></pre>
<p><img src="datatransformation_files/figure-html/unnamed-chunk-23-1.png" width="672" /></p>
<pre class="r"><code>#&gt; `geom_smooth()` using method = &#39;loess&#39; and formula &#39;y ~ x&#39;</code></pre>
<p>Cara lain untuk menggunakan pipe :</p>
<pre class="r"><code>delays &lt;- flights %&gt;% 
  group_by(dest) %&gt;% 
  summarise(
    count = n(),
    dist = mean(distance, na.rm = TRUE),
    delay = mean(arr_delay, na.rm = TRUE)
  ) %&gt;% 
  filter(count &gt; 20, dest != &quot;HNL&quot;)
#&gt; `summarise()` ungrouping output (override with `.groups` argument)</code></pre>
<p>Missing value (NA) harus ditulis dengan na.rm agar data NA tidak ditampilkan :</p>
<pre class="r"><code>flights %&gt;% 
  group_by(year, month, day) %&gt;% 
  summarise(mean = mean(dep_delay, na.rm = TRUE))</code></pre>
<pre><code>## `summarise()` has grouped output by &#39;year&#39;, &#39;month&#39;. You can override using the `.groups` argument.</code></pre>
<pre><code>## # A tibble: 365 x 4
## # Groups:   year, month [12]
##     year month   day  mean
##    &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;dbl&gt;
##  1  2013     1     1 11.5 
##  2  2013     1     2 13.9 
##  3  2013     1     3 11.0 
##  4  2013     1     4  8.95
##  5  2013     1     5  5.73
##  6  2013     1     6  7.15
##  7  2013     1     7  5.42
##  8  2013     1     8  2.55
##  9  2013     1     9  2.28
## 10  2013     1    10  2.84
## # ... with 355 more rows</code></pre>
<pre class="r"><code>#&gt; `summarise()` regrouping output by &#39;year&#39;, &#39;month&#39; (override with `.groups` argument)
#&gt; # A tibble: 365 x 4
#&gt; # Groups:   year, month [12]
#&gt;    year month   day  mean
#&gt;   &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;dbl&gt;
#&gt; 1  2013     1     1 11.5 
#&gt; 2  2013     1     2 13.9 
#&gt; 3  2013     1     3 11.0 
#&gt; 4  2013     1     4  8.95
#&gt; 5  2013     1     5  5.73
#&gt; 6  2013     1     6  7.15
#&gt; # … with 359 more rows</code></pre>
<pre class="r"><code>flights %&gt;% 
  group_by(year, month, day) %&gt;% 
  summarise(mean = mean(dep_delay, na.rm = TRUE))</code></pre>
<pre><code>## `summarise()` has grouped output by &#39;year&#39;, &#39;month&#39;. You can override using the `.groups` argument.</code></pre>
<pre><code>## # A tibble: 365 x 4
## # Groups:   year, month [12]
##     year month   day  mean
##    &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;dbl&gt;
##  1  2013     1     1 11.5 
##  2  2013     1     2 13.9 
##  3  2013     1     3 11.0 
##  4  2013     1     4  8.95
##  5  2013     1     5  5.73
##  6  2013     1     6  7.15
##  7  2013     1     7  5.42
##  8  2013     1     8  2.55
##  9  2013     1     9  2.28
## 10  2013     1    10  2.84
## # ... with 355 more rows</code></pre>
<pre class="r"><code>#&gt; `summarise()` regrouping output by &#39;year&#39;, &#39;month&#39; (override with `.groups` argument)
#&gt; # A tibble: 365 x 4
#&gt; # Groups:   year, month [12]
#&gt;    year month   day  mean
#&gt;   &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;dbl&gt;
#&gt; 1  2013     1     1 11.5 
#&gt; 2  2013     1     2 13.9 
#&gt; 3  2013     1     3 11.0 
#&gt; 4  2013     1     4  8.95
#&gt; 5  2013     1     5  5.73
#&gt; 6  2013     1     6  7.15
#&gt; # … with 359 more rows</code></pre>
<pre class="r"><code>not_cancelled &lt;- flights %&gt;% 
  filter(!is.na(dep_delay), !is.na(arr_delay))

not_cancelled %&gt;% 
  group_by(year, month, day) %&gt;% 
  summarise(mean = mean(dep_delay))</code></pre>
<pre><code>## `summarise()` has grouped output by &#39;year&#39;, &#39;month&#39;. You can override using the `.groups` argument.</code></pre>
<pre><code>## # A tibble: 365 x 4
## # Groups:   year, month [12]
##     year month   day  mean
##    &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;dbl&gt;
##  1  2013     1     1 11.4 
##  2  2013     1     2 13.7 
##  3  2013     1     3 10.9 
##  4  2013     1     4  8.97
##  5  2013     1     5  5.73
##  6  2013     1     6  7.15
##  7  2013     1     7  5.42
##  8  2013     1     8  2.56
##  9  2013     1     9  2.30
## 10  2013     1    10  2.84
## # ... with 355 more rows</code></pre>
<pre class="r"><code>#&gt; `summarise()` regrouping output by &#39;year&#39;, &#39;month&#39; (override with `.groups` argument)
#&gt; # A tibble: 365 x 4
#&gt; # Groups:   year, month [12]
#&gt;    year month   day  mean
#&gt;   &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;dbl&gt;
#&gt; 1  2013     1     1 11.4 
#&gt; 2  2013     1     2 13.7 
#&gt; 3  2013     1     3 10.9 
#&gt; 4  2013     1     4  8.97
#&gt; 5  2013     1     5  5.73
#&gt; 6  2013     1     6  7.15
#&gt; # … with 359 more rows</code></pre>
<p>count (n()), atau jumlah nilai yang tidak hilang (sum(!is.na(x))) harus digunakan agar tidak menarik kesimpulan pada data yang sedikit. Misal menampilkan data delay tertinggi berdasarkan nomor ekor pesawat :</p>
<pre class="r"><code>delays &lt;- not_cancelled %&gt;% 
  group_by(tailnum) %&gt;% 
  summarise(
    delay = mean(arr_delay)
  )
#&gt; `summarise()` ungrouping output (override with `.groups` argument)

ggplot(data = delays, mapping = aes(x = delay)) + 
  geom_freqpoly(binwidth = 10)</code></pre>
<p><img src="datatransformation_files/figure-html/unnamed-chunk-28-1.png" width="672" /> Menampilkan dengan scatterplot :</p>
<pre class="r"><code>delays &lt;- not_cancelled %&gt;% 
  group_by(tailnum) %&gt;% 
  summarise(
    delay = mean(arr_delay, na.rm = TRUE),
    n = n()
  )
#&gt; `summarise()` ungrouping output (override with `.groups` argument)

ggplot(data = delays, mapping = aes(x = n, y = delay)) + 
  geom_point(alpha = 1/10)</code></pre>
<p><img src="datatransformation_files/figure-html/unnamed-chunk-29-1.png" width="672" /> Dapat menggunakan operator + untuk plot data agar lebih mudah dibaca :</p>
<pre class="r"><code>delays %&gt;% 
  filter(n &gt; 25) %&gt;% 
  ggplot(mapping = aes(x = n, y = delay)) + 
    geom_point(alpha = 1/10)</code></pre>
<p><img src="datatransformation_files/figure-html/unnamed-chunk-30-1.png" width="672" /> mean () dan median() merupakan fungsu summerize. mean() merupakan jumlah dibagi panjang dan median() median adalah nilai di mana 50% dari x berada di atasnya, dan 50% di bawahnya</p>
<pre class="r"><code>not_cancelled %&gt;% 
  group_by(year, month, day) %&gt;% 
  summarise(
    avg_delay1 = mean(arr_delay),
    avg_delay2 = mean(arr_delay[arr_delay &gt; 0]) # the average positive delay
  )</code></pre>
<pre><code>## `summarise()` has grouped output by &#39;year&#39;, &#39;month&#39;. You can override using the `.groups` argument.</code></pre>
<pre><code>## # A tibble: 365 x 5
## # Groups:   year, month [12]
##     year month   day avg_delay1 avg_delay2
##    &lt;int&gt; &lt;int&gt; &lt;int&gt;      &lt;dbl&gt;      &lt;dbl&gt;
##  1  2013     1     1     12.7         32.5
##  2  2013     1     2     12.7         32.0
##  3  2013     1     3      5.73        27.7
##  4  2013     1     4     -1.93        28.3
##  5  2013     1     5     -1.53        22.6
##  6  2013     1     6      4.24        24.4
##  7  2013     1     7     -4.95        27.8
##  8  2013     1     8     -3.23        20.8
##  9  2013     1     9     -0.264       25.6
## 10  2013     1    10     -5.90        27.3
## # ... with 355 more rows</code></pre>
<pre class="r"><code>#&gt; `summarise()` regrouping output by &#39;year&#39;, &#39;month&#39; (override with `.groups` argument)
#&gt; # A tibble: 365 x 5
#&gt; # Groups:   year, month [12]
#&gt;    year month   day avg_delay1 avg_delay2
#&gt;   &lt;int&gt; &lt;int&gt; &lt;int&gt;      &lt;dbl&gt;      &lt;dbl&gt;
#&gt; 1  2013     1     1      12.7        32.5
#&gt; 2  2013     1     2      12.7        32.0
#&gt; 3  2013     1     3       5.73       27.7
#&gt; 4  2013     1     4      -1.93       28.3
#&gt; 5  2013     1     5      -1.53       22.6
#&gt; 6  2013     1     6       4.24       24.4
#&gt; # … with 359 more rows</code></pre>
<p>Ukuran penyebaran: sd (x), IQR (x), mad (x). Deviasi kuadrat rata-rata akar, atau deviasi standar sd (x), adalah ukuran standar penyebaran. Rentang interkuartil IQR (x) dan deviasi absolut median mad (x) adalah padanan kuat yang mungkin lebih berguna jika Anda memiliki data terpencil</p>
<pre class="r"><code># Why is distance to some destinations more variable than to others?
not_cancelled %&gt;% 
  group_by(dest) %&gt;% 
  summarise(distance_sd = sd(distance)) %&gt;% 
  arrange(desc(distance_sd))</code></pre>
<pre><code>## # A tibble: 104 x 2
##    dest  distance_sd
##    &lt;chr&gt;       &lt;dbl&gt;
##  1 EGE         10.5 
##  2 SAN         10.4 
##  3 SFO         10.2 
##  4 HNL         10.0 
##  5 SEA          9.98
##  6 LAS          9.91
##  7 PDX          9.87
##  8 PHX          9.86
##  9 LAX          9.66
## 10 IND          9.46
## # ... with 94 more rows</code></pre>
<pre class="r"><code>#&gt; `summarise()` ungrouping output (override with `.groups` argument)
#&gt; # A tibble: 104 x 2
#&gt;   dest  distance_sd
#&gt;   &lt;chr&gt;       &lt;dbl&gt;
#&gt; 1 EGE         10.5 
#&gt; 2 SAN         10.4 
#&gt; 3 SFO         10.2 
#&gt; 4 HNL         10.0 
#&gt; 5 SEA          9.98
#&gt; 6 LAS          9.91
#&gt; # … with 98 more rows</code></pre>
<p>Ukuran peringkat: min (x), kuantil (x, 0.25), max (x). Kuantil adalah generalisasi dari median. Misalnya, kuantil (x, 0.25) akan menemukan nilai x yang lebih besar dari 25% nilai, dan kurang dari 75% sisanya</p>
<pre class="r"><code># When do the first and last flights leave each day?
not_cancelled %&gt;% 
  group_by(year, month, day) %&gt;% 
  summarise(
    first = min(dep_time),
    last = max(dep_time)
  )</code></pre>
<pre><code>## `summarise()` has grouped output by &#39;year&#39;, &#39;month&#39;. You can override using the `.groups` argument.</code></pre>
<pre><code>## # A tibble: 365 x 5
## # Groups:   year, month [12]
##     year month   day first  last
##    &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt;
##  1  2013     1     1   517  2356
##  2  2013     1     2    42  2354
##  3  2013     1     3    32  2349
##  4  2013     1     4    25  2358
##  5  2013     1     5    14  2357
##  6  2013     1     6    16  2355
##  7  2013     1     7    49  2359
##  8  2013     1     8   454  2351
##  9  2013     1     9     2  2252
## 10  2013     1    10     3  2320
## # ... with 355 more rows</code></pre>
<pre class="r"><code>#&gt; `summarise()` regrouping output by &#39;year&#39;, &#39;month&#39; (override with `.groups` argument)
#&gt; # A tibble: 365 x 5
#&gt; # Groups:   year, month [12]
#&gt;    year month   day first  last
#&gt;   &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt;
#&gt; 1  2013     1     1   517  2356
#&gt; 2  2013     1     2    42  2354
#&gt; 3  2013     1     3    32  2349
#&gt; 4  2013     1     4    25  2358
#&gt; 5  2013     1     5    14  2357
#&gt; 6  2013     1     6    16  2355
#&gt; # … with 359 more rows</code></pre>
<p>Ukuran posisi: first (x), n (x, 2), last (x), mirip dengan x [1], x [2], dan x [length (x)] tetapi dapat menetapkan nilai default jika posisi itu tidak ada (yaitujika mencoba mendapatkan elemen ke-3 dari grup yang hanya memiliki dua elemen). Misalnya, kita dapat menemukan keberangkatan pertama dan terakhir untuk setiap hari:</p>
<pre class="r"><code>not_cancelled %&gt;% 
  group_by(year, month, day) %&gt;% 
  summarise(
    first_dep = first(dep_time), 
    last_dep = last(dep_time)
  )</code></pre>
<pre><code>## `summarise()` has grouped output by &#39;year&#39;, &#39;month&#39;. You can override using the `.groups` argument.</code></pre>
<pre><code>## # A tibble: 365 x 5
## # Groups:   year, month [12]
##     year month   day first_dep last_dep
##    &lt;int&gt; &lt;int&gt; &lt;int&gt;     &lt;int&gt;    &lt;int&gt;
##  1  2013     1     1       517     2356
##  2  2013     1     2        42     2354
##  3  2013     1     3        32     2349
##  4  2013     1     4        25     2358
##  5  2013     1     5        14     2357
##  6  2013     1     6        16     2355
##  7  2013     1     7        49     2359
##  8  2013     1     8       454     2351
##  9  2013     1     9         2     2252
## 10  2013     1    10         3     2320
## # ... with 355 more rows</code></pre>
<pre class="r"><code>#&gt; `summarise()` regrouping output by &#39;year&#39;, &#39;month&#39; (override with `.groups` argument)
#&gt; # A tibble: 365 x 5
#&gt; # Groups:   year, month [12]
#&gt;    year month   day first_dep last_dep
#&gt;   &lt;int&gt; &lt;int&gt; &lt;int&gt;     &lt;int&gt;    &lt;int&gt;
#&gt; 1  2013     1     1       517     2356
#&gt; 2  2013     1     2        42     2354
#&gt; 3  2013     1     3        32     2349
#&gt; 4  2013     1     4        25     2358
#&gt; 5  2013     1     5        14     2357
#&gt; 6  2013     1     6        16     2355
#&gt; # … with 359 more rows</code></pre>
<p>n_distinct (x) digunakan untuk menghitung jumlah nilai berbeda atau unik, misal :</p>
<pre class="r"><code># Which destinations have the most carriers?
not_cancelled %&gt;% 
  group_by(dest) %&gt;% 
  summarise(carriers = n_distinct(carrier)) %&gt;% 
  arrange(desc(carriers))</code></pre>
<pre><code>## # A tibble: 104 x 2
##    dest  carriers
##    &lt;chr&gt;    &lt;int&gt;
##  1 ATL          7
##  2 BOS          7
##  3 CLT          7
##  4 ORD          7
##  5 TPA          7
##  6 AUS          6
##  7 DCA          6
##  8 DTW          6
##  9 IAD          6
## 10 MSP          6
## # ... with 94 more rows</code></pre>
<pre class="r"><code>#&gt; `summarise()` ungrouping output (override with `.groups` argument)
#&gt; # A tibble: 104 x 2
#&gt;   dest  carriers
#&gt;   &lt;chr&gt;    &lt;int&gt;
#&gt; 1 ATL          7
#&gt; 2 BOS          7
#&gt; 3 CLT          7
#&gt; 4 ORD          7
#&gt; 5 TPA          7
#&gt; 6 AUS          6
#&gt; # … with 98 more rows</code></pre>
<p>Hitungan dan proporsi nilai logika: jumlah (x&gt; 10), mean (y == 0). Ketika digunakan dengan fungsi numerik, TRUE diubah menjadi 1 dan FALSE menjadi 0. Hal ini membuat sum () dan mean () sangat berguna: sum (x) memberikan jumlah TRUE dalam x, dan mean (x) memberikan proporsinya</p>
<pre class="r"><code># How many flights left before 5am? (these usually indicate delayed
# flights from the previous day)
not_cancelled %&gt;% 
  group_by(year, month, day) %&gt;% 
  summarise(n_early = sum(dep_time &lt; 500))</code></pre>
<pre><code>## `summarise()` has grouped output by &#39;year&#39;, &#39;month&#39;. You can override using the `.groups` argument.</code></pre>
<pre><code>## # A tibble: 365 x 4
## # Groups:   year, month [12]
##     year month   day n_early
##    &lt;int&gt; &lt;int&gt; &lt;int&gt;   &lt;int&gt;
##  1  2013     1     1       0
##  2  2013     1     2       3
##  3  2013     1     3       4
##  4  2013     1     4       3
##  5  2013     1     5       3
##  6  2013     1     6       2
##  7  2013     1     7       2
##  8  2013     1     8       1
##  9  2013     1     9       3
## 10  2013     1    10       3
## # ... with 355 more rows</code></pre>
<pre class="r"><code>#&gt; `summarise()` regrouping output by &#39;year&#39;, &#39;month&#39; (override with `.groups` argument)
#&gt; # A tibble: 365 x 4
#&gt; # Groups:   year, month [12]
#&gt;    year month   day n_early
#&gt;   &lt;int&gt; &lt;int&gt; &lt;int&gt;   &lt;int&gt;
#&gt; 1  2013     1     1       0
#&gt; 2  2013     1     2       3
#&gt; 3  2013     1     3       4
#&gt; 4  2013     1     4       3
#&gt; 5  2013     1     5       3
#&gt; 6  2013     1     6       2
#&gt; # … with 359 more rows

# What proportion of flights are delayed by more than an hour?
not_cancelled %&gt;% 
  group_by(year, month, day) %&gt;% 
  summarise(hour_prop = mean(arr_delay &gt; 60))</code></pre>
<pre><code>## `summarise()` has grouped output by &#39;year&#39;, &#39;month&#39;. You can override using the `.groups` argument.</code></pre>
<pre><code>## # A tibble: 365 x 4
## # Groups:   year, month [12]
##     year month   day hour_prop
##    &lt;int&gt; &lt;int&gt; &lt;int&gt;     &lt;dbl&gt;
##  1  2013     1     1    0.0722
##  2  2013     1     2    0.0851
##  3  2013     1     3    0.0567
##  4  2013     1     4    0.0396
##  5  2013     1     5    0.0349
##  6  2013     1     6    0.0470
##  7  2013     1     7    0.0333
##  8  2013     1     8    0.0213
##  9  2013     1     9    0.0202
## 10  2013     1    10    0.0183
## # ... with 355 more rows</code></pre>
<pre class="r"><code>#&gt; `summarise()` regrouping output by &#39;year&#39;, &#39;month&#39; (override with `.groups` argument)
#&gt; # A tibble: 365 x 4
#&gt; # Groups:   year, month [12]
#&gt;    year month   day hour_prop
#&gt;   &lt;int&gt; &lt;int&gt; &lt;int&gt;     &lt;dbl&gt;
#&gt; 1  2013     1     1    0.0722
#&gt; 2  2013     1     2    0.0851
#&gt; 3  2013     1     3    0.0567
#&gt; 4  2013     1     4    0.0396
#&gt; 5  2013     1     5    0.0349
#&gt; 6  2013     1     6    0.0470
#&gt; # … with 359 more rows</code></pre>
<p>Pengelompokan berdasarkan beberapa variabel :</p>
<pre class="r"><code>daily &lt;- group_by(flights, year, month, day)
(per_day   &lt;- summarise(daily, flights = n()))</code></pre>
<pre><code>## `summarise()` has grouped output by &#39;year&#39;, &#39;month&#39;. You can override using the `.groups` argument.</code></pre>
<pre><code>## # A tibble: 365 x 4
## # Groups:   year, month [12]
##     year month   day flights
##    &lt;int&gt; &lt;int&gt; &lt;int&gt;   &lt;int&gt;
##  1  2013     1     1     842
##  2  2013     1     2     943
##  3  2013     1     3     914
##  4  2013     1     4     915
##  5  2013     1     5     720
##  6  2013     1     6     832
##  7  2013     1     7     933
##  8  2013     1     8     899
##  9  2013     1     9     902
## 10  2013     1    10     932
## # ... with 355 more rows</code></pre>
<pre class="r"><code>#&gt; `summarise()` regrouping output by &#39;year&#39;, &#39;month&#39; (override with `.groups` argument)
#&gt; # A tibble: 365 x 4
#&gt; # Groups:   year, month [12]
#&gt;    year month   day flights
#&gt;   &lt;int&gt; &lt;int&gt; &lt;int&gt;   &lt;int&gt;
#&gt; 1  2013     1     1     842
#&gt; 2  2013     1     2     943
#&gt; 3  2013     1     3     914
#&gt; 4  2013     1     4     915
#&gt; 5  2013     1     5     720
#&gt; 6  2013     1     6     832
#&gt; # … with 359 more rows
(per_month &lt;- summarise(per_day, flights = sum(flights)))</code></pre>
<pre><code>## `summarise()` has grouped output by &#39;year&#39;. You can override using the `.groups` argument.</code></pre>
<pre><code>## # A tibble: 12 x 3
## # Groups:   year [1]
##     year month flights
##    &lt;int&gt; &lt;int&gt;   &lt;int&gt;
##  1  2013     1   27004
##  2  2013     2   24951
##  3  2013     3   28834
##  4  2013     4   28330
##  5  2013     5   28796
##  6  2013     6   28243
##  7  2013     7   29425
##  8  2013     8   29327
##  9  2013     9   27574
## 10  2013    10   28889
## 11  2013    11   27268
## 12  2013    12   28135</code></pre>
<pre class="r"><code>#&gt; `summarise()` regrouping output by &#39;year&#39; (override with `.groups` argument)
#&gt; # A tibble: 12 x 3
#&gt; # Groups:   year [1]
#&gt;    year month flights
#&gt;   &lt;int&gt; &lt;int&gt;   &lt;int&gt;
#&gt; 1  2013     1   27004
#&gt; 2  2013     2   24951
#&gt; 3  2013     3   28834
#&gt; 4  2013     4   28330
#&gt; 5  2013     5   28796
#&gt; 6  2013     6   28243
#&gt; # … with 6 more rows
(per_year  &lt;- summarise(per_month, flights = sum(flights)))</code></pre>
<pre><code>## # A tibble: 1 x 2
##    year flights
## * &lt;int&gt;   &lt;int&gt;
## 1  2013  336776</code></pre>
<pre class="r"><code>#&gt; `summarise()` ungrouping output (override with `.groups` argument)
#&gt; # A tibble: 1 x 2
#&gt;    year flights
#&gt;   &lt;int&gt;   &lt;int&gt;
#&gt; 1  2013  336776</code></pre>
<p>ungroup() digunakan untuk membatalkan pengelompokan data :</p>
<pre class="r"><code>daily %&gt;% 
  ungroup() %&gt;%             # no longer grouped by date
  summarise(flights = n())  # all flights</code></pre>
<pre><code>## # A tibble: 1 x 1
##   flights
##     &lt;int&gt;
## 1  336776</code></pre>
<pre class="r"><code>#&gt; # A tibble: 1 x 1
#&gt;   flights
#&gt;     &lt;int&gt;
#&gt; 1  336776</code></pre>
<p>Grouping berguna dalam hubungannya dengan summarize (), tetapi dapat dilakukan dengan praktis menggunakan mutate () dan filter (): Menampilkan data penerbangan terburuk pada suatu kelompok :</p>
<pre class="r"><code>flights_sml %&gt;% 
  group_by(year, month, day) %&gt;%
  filter(rank(desc(arr_delay)) &lt; 10)</code></pre>
<pre><code>## # A tibble: 3,306 x 7
## # Groups:   year, month, day [365]
##     year month   day dep_delay arr_delay distance air_time
##    &lt;int&gt; &lt;int&gt; &lt;int&gt;     &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;
##  1  2013     1     1       853       851      184       41
##  2  2013     1     1       290       338     1134      213
##  3  2013     1     1       260       263      266       46
##  4  2013     1     1       157       174      213       60
##  5  2013     1     1       216       222      708      121
##  6  2013     1     1       255       250      589      115
##  7  2013     1     1       285       246     1085      146
##  8  2013     1     1       192       191      199       44
##  9  2013     1     1       379       456     1092      222
## 10  2013     1     2       224       207      550       94
## # ... with 3,296 more rows</code></pre>
<pre class="r"><code>#&gt; # A tibble: 3,306 x 7
#&gt; # Groups:   year, month, day [365]
#&gt;    year month   day dep_delay arr_delay distance air_time
#&gt;   &lt;int&gt; &lt;int&gt; &lt;int&gt;     &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;
#&gt; 1  2013     1     1       853       851      184       41
#&gt; 2  2013     1     1       290       338     1134      213
#&gt; 3  2013     1     1       260       263      266       46
#&gt; 4  2013     1     1       157       174      213       60
#&gt; 5  2013     1     1       216       222      708      121
#&gt; 6  2013     1     1       255       250      589      115
#&gt; # … with 3,300 more rows</code></pre>
<p>Menampilkan data penerbangan populer atau diatas rata- rata :</p>
<pre class="r"><code>popular_dests &lt;- flights %&gt;% 
  group_by(dest) %&gt;% 
  filter(n() &gt; 365)
popular_dests</code></pre>
<pre><code>## # A tibble: 332,577 x 19
## # Groups:   dest [77]
##     year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time
##    &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;
##  1  2013     1     1      517            515         2      830            819
##  2  2013     1     1      533            529         4      850            830
##  3  2013     1     1      542            540         2      923            850
##  4  2013     1     1      544            545        -1     1004           1022
##  5  2013     1     1      554            600        -6      812            837
##  6  2013     1     1      554            558        -4      740            728
##  7  2013     1     1      555            600        -5      913            854
##  8  2013     1     1      557            600        -3      709            723
##  9  2013     1     1      557            600        -3      838            846
## 10  2013     1     1      558            600        -2      753            745
## # ... with 332,567 more rows, and 11 more variables: arr_delay &lt;dbl&gt;,
## #   carrier &lt;chr&gt;, flight &lt;int&gt;, tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;,
## #   air_time &lt;dbl&gt;, distance &lt;dbl&gt;, hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;</code></pre>
<pre class="r"><code>#&gt; # A tibble: 332,577 x 19
#&gt; # Groups:   dest [77]
#&gt;    year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time
#&gt;   &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;
#&gt; 1  2013     1     1      517            515         2      830            819
#&gt; 2  2013     1     1      533            529         4      850            830
#&gt; 3  2013     1     1      542            540         2      923            850
#&gt; 4  2013     1     1      544            545        -1     1004           1022
#&gt; 5  2013     1     1      554            600        -6      812            837
#&gt; 6  2013     1     1      554            558        -4      740            728
#&gt; # … with 332,571 more rows, and 11 more variables: arr_delay &lt;dbl&gt;,
#&gt; #   carrier &lt;chr&gt;, flight &lt;int&gt;, tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;,
#&gt; #   air_time &lt;dbl&gt;, distance &lt;dbl&gt;, hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;</code></pre>
<p>Standarisasi untuk menghitung metrik grup:</p>
<pre class="r"><code>popular_dests %&gt;% 
  filter(arr_delay &gt; 0) %&gt;% 
  mutate(prop_delay = arr_delay / sum(arr_delay)) %&gt;% 
  select(year:day, dest, arr_delay, prop_delay)</code></pre>
<pre><code>## # A tibble: 131,106 x 6
## # Groups:   dest [77]
##     year month   day dest  arr_delay prop_delay
##    &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;chr&gt;     &lt;dbl&gt;      &lt;dbl&gt;
##  1  2013     1     1 IAH          11  0.000111 
##  2  2013     1     1 IAH          20  0.000201 
##  3  2013     1     1 MIA          33  0.000235 
##  4  2013     1     1 ORD          12  0.0000424
##  5  2013     1     1 FLL          19  0.0000938
##  6  2013     1     1 ORD           8  0.0000283
##  7  2013     1     1 LAX           7  0.0000344
##  8  2013     1     1 DFW          31  0.000282 
##  9  2013     1     1 ATL          12  0.0000400
## 10  2013     1     1 DTW          16  0.000116 
## # ... with 131,096 more rows</code></pre>
<pre class="r"><code>#&gt; # A tibble: 131,106 x 6
#&gt; # Groups:   dest [77]
#&gt;    year month   day dest  arr_delay prop_delay
#&gt;   &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;chr&gt;     &lt;dbl&gt;      &lt;dbl&gt;
#&gt; 1  2013     1     1 IAH          11  0.000111 
#&gt; 2  2013     1     1 IAH          20  0.000201 
#&gt; 3  2013     1     1 MIA          33  0.000235 
#&gt; 4  2013     1     1 ORD          12  0.0000424
#&gt; 5  2013     1     1 FLL          19  0.0000938
#&gt; 6  2013     1     1 ORD           8  0.0000283
#&gt; # … with 131,100 more rows</code></pre>
<p>Sumber : <a href="https://r4ds.had.co.nz/transform.html" class="uri">https://r4ds.had.co.nz/transform.html</a></p>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
